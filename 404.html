<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirecting...</title>
    <script>
        // Handle client-side routing for clean URLs
        (function() {
            const path = window.location.pathname;
            
            // Check if URL matches /profile/[8-digit-id]
            const profileMatch = path.match(/^\/tabbimate\/profile\/(\d{8})$/);
            if (profileMatch) {
                const userId = profileMatch[1];
                window.location.replace(`/tabbimate/profile.html?id=${userId}`);
                return;
            }
            
            // Check if URL matches /profile/[8-digit-id] (without /tabbimate prefix for local)
            const profileMatchLocal = path.match(/^\/profile\/(\d{8})$/);
            if (profileMatchLocal) {
                const userId = profileMatchLocal[1];
                window.location.replace(`/profile.html?id=${userId}`);
                return;
            }
            
            // Check if URL matches /session/[10-digit-id]
            const sessionMatch = path.match(/^\/tabbimate\/session\/(\d{10})$/);
            if (sessionMatch) {
                const sessionId = sessionMatch[1];
                window.location.replace(`/tabbimate/app.html?session=${sessionId}`);
                return;
            }
            
            // Check if URL matches /session/[10-digit-id] (without /tabbimate prefix for local)
            const sessionMatchLocal = path.match(/^\/session\/(\d{10})$/);
            if (sessionMatchLocal) {
                const sessionId = sessionMatchLocal[1];
                window.location.replace(`/app.html?session=${sessionId}`);
                return;
            }
            
            // Otherwise redirect to home
            window.location.replace('/tabbimate/');
        })();
    </script>
</head>
<body>
    <p>Redirecting...</p>
</body>
</html>

